## udp

- 源端口
- 目的端口
- 源ip
- 目的ip

## dns查询流程

- 基于udp协议
- 默认端口53
- 访问www.example.com
  - 查看本地缓存，有直接访问
  - 没有缓存
    - 先请求com根域名服务器
    - 再请求example.com权威dns服务器，获取到服务器的ip地址，然后返回给浏览器


## cidr

- 为了缓解ipv4地址浪费以及减少路由表数目
- 无类型域间选路
- 分为网络号和主机号
- 广播地址：网络号.255
- 子网掩码：255.255.255.0
- 子网掩码和ip地址and操作可得到网络号



## nat

- 发送给网关，更改目的mac为网关的mac
- 网关确定下一跳的ip，获取下一跳的mac，修改数据包的目的mac地址，同时将源ip和源端口转换成公网ip和另一个端口，并记录
- 当是最后一跳时，网关会把目的ip和端口转换成内网的ip和端口，通过内网ip去获取mac地址，并修改目的mac地址，发送给交换机，交换机再转发给对应主机
