## join



### 可不可以使用join

- join的原则是小表驱动大表
  - 尽量使用被驱动表的索引
    - 驱动表的行数为N，被驱动表的行数为M
    - 扫描行数为N*log2M+N
  - 如果用不上索引的话（少用这种join）
    - 扫描驱动表，放到join_buffer中，如果够大，无所谓小表驱动还是大表驱动；如果不够大，那需要将驱动表的记录分成K段，这时遵循的原则是小表驱动大表
    - 假设驱动表的行数为N，被驱动表的行数为M
    - 那么他们的总扫描行数为N+k*M
  - 小表的判断标准
    - 数据量
    - 加载到join_buffer中的数据的字段个数

### 大小不同的表join的话，应该使用哪个表做驱动表

- 使用小表来驱动大表
